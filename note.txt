SQLCA (SQL Communications Area): Area di memoria utilizzata per la comunicazione tra il programma COBOL e il DB

IBM Data Server Driver Package: Pacchetto di driver necessario per la connettivit√† a DB2


docker build -t cobol-db2:local .
docker-compose up -d
docker-compose ps
docker-compose exec cobol-app bash
docker-compose exec db2 bash


COMANDI DB:
# Accesso al container DB2
docker exec -it mydb2 bash

# Accesso come utente DB2
su - db2inst1
# Password: password

# Connessione al database
db2 connect to DIPDB

# Esecuzione dello schema SQL
db2 -tvf /tmp/db/db2-schema.sql

# Visualizzazione delle tabelle
db2 "SELECT TABNAME FROM SYSCAT.TABLES WHERE TABSCHEMA='DB2INST1'"

# Query di esempio sui dati
db2 "SELECT * FROM DIPARTIMENTI"
db2 "SELECT * FROM POSIZIONI"
db2 "SELECT * FROM DIPENDENTI"

# Query di join per dimostrare relazioni
db2 "SELECT D.NOME, P.NOME_POSIZIONE, DP.NOME_DIPARTIMENTO 
     FROM DIPENDENTI D 
     JOIN POSIZIONI P ON D.ID_POSIZIONE = P.ID_POSIZIONE 
     JOIN DIPARTIMENTI DP ON P.ID_DIPARTIMENTO = DP.ID_DIPARTIMENTO 
     ORDER BY DP.NOME_DIPARTIMENTO, P.NOME_POSIZIONE, D.NOME"

COMANDI COBOL:
# Accesso al container COBOL
docker exec -it cobol-app bash

# Visualizzazione struttura directory
ls -la /app/cobol/db2

# Visualizzazione del file sorgente
cat /app/cobol/db2/cobol-db2-querydb.sqc

#Spostarsi su directory db2
cd /app/cobol/db2

# Tentativo di compilazione (semplificato ora che i file sono nella stessa directory)
cobc -x -o cobol-db2-querydb cobol-db2-querydb.sqc \
     -L/opt/ibm/clidriver/lib \
     -ldb2